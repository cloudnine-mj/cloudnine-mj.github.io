---
key: jekyll-text-theme
title: 'SQLD - 정규화와 성능'
excerpt: ''
tags: [SQLD]
---

# 데이터 모델과 성능

## 정규화와 성능

### 성능 데이터 모델링

#### 1. 성능 데이터 모델링의 개념

* 성능 데이터 모델링: 분석/설계 단계부터 데이터베이스 성능을 고려하여 데이터 모델링을 수행하는 기법
* SQL이 아닌 데이터 모델을 중심으로 성능에 대한 데이터 모델링을 수행함.
* 시간이 지날수록 성능 개선의 비용이 증가함.

#### 2. 성능 데이터 모델링의 절차

* 논리 모델링 단계: 데이터베이스 정규화 수행

* 물리 모델링 단계

  * 반정규화 수행: 용량 산정과 트랜잭션 유형을 파악한 후 반정규화 수행
  * 데이터 구조 조정: 이력 유형, PK/FK 순서, 슈퍼 타입/서브 타입을 통해 데이터 구조 조정

* 성능 데이터 모델링의 절차

  | 절차               | 설명                                           |
  | ------------------ | ---------------------------------------------- |
  | 정규화             | 데이터 중복을 제거하여 데이터 처리 성능을 향상 |
  | 용량산정           | 데이터베이스의 현재 용량과 예상 증가량을 조사  |
  | 트랜잭션 유형 파악 | 데이터의 분할 및 조인 여부 조사                |
  | 반정규화           | 테이블, 컬럼, 관계에 대해 반정규화 수행        |
  | 데이터 구조 조정   | 이력 유형, PK/FK 순서, 슈퍼타입/서브타입 조정  |
  | 데이터 모델 검증   | 성능 관점에서 데이터 모델을 검증               |

  

### 데이터베이스 정규화

#### 1. 데이터베이스 정규화의 개념

* 데이터베이스 정규화(Normalization)
  * 관계형 데이터 모델에서 데이터의 중복성을 제거하여 이상현상 방지
  * 데이터의 일관성을 유지하기 위해 무손실 분배하는 과정
  * 함수적 종속성(Functional Dependency)의 성질을 이용해서 데이터베이스 정규화 수행

> 이상현상(Anomaly)
>
> 릴레이션 조작 시, 데이터가 불필요하게 중복되어 일관성이 유지되지 못하는 현상

#### 2. 함수적 종속성★

* 함수적 종속성은 데이터가 가지고 있는 속상 간의 관계에 의해 결정되고 종속되는 현상
* 데이터의 기준 값을 결정자(Determinant)라고 하고, 종속되는 값을 종속자(Dependant)라고 함

> 함수적 종속성의 표현 방법: (결정자) -> (종속자)
>
> 예시) (주민등록번호) -> (이름, 나이)

* 함수적 종속성 유형

  * 부분 함수 종속성: 복합 식별자의 부분적인 속성이 일반 속성을 결정하는 상태 (2차 정규화 대상)

  * 완전 함수 종속성: 식별자의 전체 속성이 일반 속성을 결정하는 상태 (이미 정규화가 되어 있으므로 정규화 대상 X)

  * 이행 함수 종속성: 식별자가 아닌 일반 속성이 다른 일반 속성을 결정하는 상태

  * 결정자 함수 종속성: 후보키가 아닌 결정자가 존재하는 상태

    > 후보키(Candidate key): 릴레이션에서 튜플을 유일하게 식별할 수 있는 속성들의 집합, 유일성과 최소성을 만족함

* 함수적 종속성이 필요한 이유

  * 종속된 테이블에 데이터를 배치하여 반복 차단
  * 이상현상을 제거할 경우 데이터의 정합성을 유지할 수 있음
  * 정규화 작업 수행 시 가장 중요한 작업으로 제 2 정규형에서 BCNF까지 적용

#### 3. 데이터베이스 정규화 단계

* 데이터베이스 정규화는 함수적 종속성에 근거해서 수행한다(일반적)

* 데이터 베이스 정규화 단계

  | 단계                               | 설명                                                         |
  | ---------------------------------- | ------------------------------------------------------------ |
  | 1차 정규화                         | 테이블 내의 속성값을 원자값으로 구성하는 단계                |
  | 2차 정규화                         | - 부분 함수 종속성을 제거하는 단계<br/>- 일반 속성은 모두 완전 함수적 종속성 관계 |
  | 3차 정규화                         | 이행 함수 종속성을 제거하는 단계                             |
  | BCNF<br />(Boyce-Codd Normal Form) | 결정자 함수 종속성을 제거하는 단계                           |

  > ① 원자값(Atomic Value): 더는 분리되지 않는 값, 1차 정규화에서 하나의 속성에는 하나의 값만을 저장할 수 있음
  >
  > ② 정규형: 정규화를 충족시키는 상태 (1차 정규형은 1차 정규화가 수행된 상태)
  >
  > ③ 로우 단위의 중복뿐만 아니라, 컬럼(열) 단위의 중복도 1차 정규화 대상임
  



### 데이터베이스 정규화의 성능 고려 사항

* 정규화 시 데이터 처리 조건에 따라 성능이 향상될 수도 있지만, 반대로 성능이 저하될 수도 있음
* 정규화로 인해 조인이 증가하는 경우 데이터 조회 성능이 저하될 수 있음
* 데이터 조회와 입력/수정/삭제의 성능이 trade-off 되어 발생하기도 함

| 처리 유형        | 고려사항                                                     |
| ---------------- | ------------------------------------------------------------ |
| 조회             | - 데이터 처리 조건에 따라, 성능이 다르게 나타남<br/>- 단일 테이블 조회 시, 데이터 중복이 제거되어 조회 성능이 향상됨 <br/>- 다수의 테이블을 조인하여 조회하는 경우에는 I/O 증가와 조인 연산으로 조회 성능이 저하되기도 함 |
| 입력, 수정, 삭제 | 데이터 중복이 제거되어 일반적으로 성능이 향상됨              |

<br/>

> **REFERENCE**
>
> 수제비 SQLD,  정보처리기술사연구회 지
