---
key: jekyll-text-theme
title: 'AWS Glue'
excerpt: 'AWS Study 서비스 정리 - AWSKRUG Beginner Certification Study 😎'
tags: [AWS, study, Analytics] 
---



# Analytics



## AWS Glue 소개

* Glue는 **추출**과 **변환**, **로드** 서비스를 관리(ETL 서비스라고도 함)

  >ETL = Extract(추출), Transform(변환), Load(로드)

  

## AWS Glue 특징

* Glue는 완전 서버리스 서비스

* 분석을 위해 데이터를 준비하고 변환하는데 매우 유용함

  

## AWS Glue 사용 사례

### 사례 1

:mag_right: **S3 버킷이나 AWS RDS 데이터베이스에 있는 데이터를 데이터 웨어하우스인 Redshift에 로드할 경우**

<img src = "https://user-images.githubusercontent.com/113915835/228871991-cf053bd9-4f7f-42e1-9597-9054177918a7.png" width = "80%">

* Glue를 사용하여 추출한 다음 일부 데이터를 필터링하거나 열을 추가하는 등 원하는대로 데이터를 변형할 수 있음  -> 최종 출력 데이터를 Redshift 데이터 웨어하우스에 로드
* Glue ETL 서비스 내에서 모든 작업이 이루어짐 (간단한 코드를 작성하고 ETL 작업을 시작하기만 하면 됨)

### 사례 2

:mag_right: **데이터를 Parquet 형식으로 변환**

<img src = "https://user-images.githubusercontent.com/113915835/228875877-07ff4edd-e9d5-4648-9bea-b158a51f3d80.png" width = "80%">

* Parquet은 열 기반의 데이터 형식이므로 AWS Athena 같은 서비스와 함께 사용하면 효과적

* 예시) S3 버킷에 CSV 형식으로 된 데이터를 삽입하는 경우

  * Glue ETL 서비스를 사용해 CSV 파일을 가져와 Glue 서비스 내에서 Parquet 형식으로 변환한 다음 출력 S3 버킷으로 데이터를 보냄
  
    >Parquet 형식으로 변환하면 AWS Athena가 파일을 훨씬 더 잘 분석함
  
  * 전체 데이터 과정을 자동화할 수도 있음
  
    * 파일이 S3 버킷에 삽입될 때마다 Lambda 함수로 이벤트 알림을 보내 Glue ETL 작업을 트리거 (Lambda 함수 대신 EventBridge를 사용해도 OK)

## Glue Data Catalog 서비스

### Glue Data Catalog : catalog of datasets

<img src = "https://user-images.githubusercontent.com/113915835/228878035-067c1c61-53b2-4d8c-85b1-552bff03b221.png" width = "80%">

* Glue Data Catalog:  데이터 세트의 카탈로그
* Glue Data Catalog는 Glue 데이터 크롤러를 실행해 Amazon S3, Amazon RDS, Amazon DynamoDB 또는 호환 가능한 온프레미스 JDBC 데이터베이스에 연결
  * Glue 데이터 크롤러는 데이터베이스를 클로링하고 데이터베이스의 테이블 열, 데이터 형식 등의 모든 메타 데이터를 Glue 데이터 카탈로그에 기록 -> ETL을 수행하기 위한 Glue 작업에 활용될 모든 데이터베이스, 테이블 메타데이터를 갖게 됨
* AWS Athena, AWS Redshift Spectrum, AWS EMR -> 데이터와 스키마를 검색할 때 백그라운드에서  AWS Glue Data Catalog 활용!

## AWS Glue 기능

### Glue 작업 북마크

* 새 ETL 작업을 실행할 때 이전 데이터의 재처리 방지 :star::star::star:

### Glue Elastic Views

* 서버리스 서비스
* 여러 데이터 스토어에 분산된 구체화된 뷰인 가상 테이블을 생성할 수 있음
* SQL을 사용해 여러 데이터 스토어의 데이터를 결합하고 복제함
* RDS 데이터베이스와 Aurora 데이터베이스 AWS S3에 걸친 뷰를 생성함, 커스텀 코드를 지원하지 않으며 Glue가 원본 데이터의 변경 사항을 모니터링함

### Glue DataBrew

* 사전 빌드된 변환(pre-built transformation)을 사용해 데이터를 정리하고 정규화 함

### Glue Studio

* Glue에서 ETL 작업을 생성, 실행, 및 모니터링하는 GUI

### Glue Streaming ETL

* Glue 스트리밍 ETL은 Apache Spark Structure Streaming 위에 빌드되며 ETL 작업을 배치 작업이 아니라 스트리밍 작업으로 실행할 수 있음
* Kinesis Data Streaming Kafka 또는 AWS의 관리형 Kafka인 MSK에서 Glue 스트리밍 ETL을 사용해 데이터를 읽을 수 있음



<br/>



> **REFERENCE**
>
> [https://www.udemy.com/](https://www.udemy.com/) (AWS Certified Solutions Architect Associate, Stephane Maarek)
>
> [https://docs.aws.amazon.com/?nc2=h_ql_doc_do](https://docs.aws.amazon.com/?nc2=h_ql_doc_do)